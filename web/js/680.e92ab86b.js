"use strict";(self["webpackChunkcanseo"]=self["webpackChunkcanseo"]||[]).push([[680],{7209:function(e,a,t){var s=t(9669),n=t.n(s);const i=n().create({baseURL:"https://canseo.site/api/api",headers:{"Content-type":"application/json"}});i.interceptors.request.use((e=>{const a=localStorage.getItem("Authorization");return a&&(e.headers.common["Authorization"]=`${a}`),e}),(e=>Promise.reject(e))),a.Z=i},1677:function(e,a,t){var s=t(7209),n=t(9560);const i={getAll(){return n.Z.setAuthHeader(),s.Z.get("/paseadores")},getByBarrio(e,a,t,i){return n.Z.setAuthHeader(),s.Z.get(`/paseadores/by-barrio/${e}?diaSemana=${a}&fecha=${t}&hora=${i}`,{params:{dia_semana:a}})},login(e){return n.Z.setAuthHeader(),s.Z.post("/paseadores/login",e)},get(e){return n.Z.setAuthHeader(),s.Z.get(`/paseadores/${e}`)},create(e){return n.Z.setAuthHeader(),s.Z.post("/paseadores/register",e)},update(e,a){return n.Z.setAuthHeader(),s.Z.put(`/paseadores/${e}`,a)},changePassword(e,a){return n.Z.setAuthHeader(),s.Z.put(`/paseadores/${e}/change-password`,a)},delete(e){return n.Z.setAuthHeader(),s.Z.delete(`/paseadores/${e}`)},deleteAll(){return n.Z.setAuthHeader(),s.Z.delete("/paseadores")}};a.Z=i},680:function(e,a,t){t.r(a),t.d(a,{default:function(){return Z}});var s=t(6252),n=t(3577);const i=e=>((0,s.dD)("data-v-5a8d9ea7"),e=e(),(0,s.Cn)(),e),o={class:"general"},l=i((()=>(0,s._)("h1",null,"Paseadores disponibles",-1))),r={class:"paseadores-grid"},c=["src","alt"],u=i((()=>(0,s._)("button",{class:"ver-datos"},"Ver datos",-1)));function d(e,a,t,i,d,m){const p=(0,s.up)("NavCliente"),g=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(p),(0,s._)("div",o,[l,d.notification?((0,s.wg)(),(0,s.iD)("div",{key:0,class:(0,n.C_)(["notification",m.notificationClass])},(0,n.zw)(d.message),3)):(0,s.kq)("",!0),(0,s._)("p",null,"Fecha seleccionada: "+(0,n.zw)(d.date),1),(0,s._)("p",null,"Rango horario seleccionado: "+(0,n.zw)(d.time),1),(0,s._)("div",r,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(d.paseadores,(e=>((0,s.wg)(),(0,s.iD)("div",{class:"paseador-item",key:e.id+e.nombre},[(0,s._)("img",{src:m.getImageUrl(e.foto_perfil||"/uploads/default-profile.png"),alt:e.nombre+" "+e.apellido},null,8,c),(0,s.Wm)(g,{to:"/paseador/"+e.id},{default:(0,s.w5)((()=>[(0,s._)("p",null,(0,n.zw)(e.nombre)+" "+(0,n.zw)(e.apellido),1)])),_:2},1032,["to"]),(0,s.Wm)(g,{to:"/paseador/"+e.id},{default:(0,s.w5)((()=>[u])),_:2},1032,["to"])])))),128))])])],64)}var m=t(1677),p=t(7239),g=t(381),v=t.n(g),h=t(1012),f={name:"PaseadoresList",components:{NavCliente:h.Z},data(){return{paseadores:[],notification:null,message:"",date:null,time:null}},mounted(){this.fetchPaseadores(),this.fetchNotification()},methods:{fetchPaseadores(){const e=p.Z.getters.getClientId,a=p.Z.getters.getSelectedTime,t=new Date(p.Z.getters.getSelectedDate),s=t.getDay(),n=["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],i=n[s],o=v()(p.Z.getters.getSelectedDate).format("YYYY-MM-DD"),l=a.split(" - ")[0];m.Z.getByBarrio(e,{dia_semana:i,fecha:o,hora:l}).then((e=>{this.paseadores=e.data,this.date=v()(p.Z.getters.getSelectedDate).format("DD/MM/YYYY"),this.time=p.Z.getters.getSelectedTime})).catch((e=>{console.log(e)}))},fetchNotification(){this.notification=p.Z.state.notification,this.message=p.Z.state.message,setTimeout((()=>{this.notification=null,this.message=null,p.Z.commit("setNotification",null),p.Z.commit("setMessage",null)}),5e3)},getImageUrl(e){if(e){const a=e.replace("vue","").replace("public",""),t=window.location.origin;return`${t}/${a}`}}},computed:{notificationClass(){return{"notification-success":"success"===this.notification,"notification-error":"error"===this.notification}}}},_=t(3744);const b=(0,_.Z)(f,[["render",d],["__scopeId","data-v-5a8d9ea7"]]);var Z=b},1012:function(e,a,t){t.d(a,{Z:function(){return Y}});var s=t(6252),n=t(3577);const i=e=>((0,s.dD)("data-v-2293848b"),e=e(),(0,s.Cn)(),e),o={key:0},l={class:"menu-mobile-box"},r=i((()=>(0,s._)("img",{src:"https://canseo-vue.vercel.app/uploads/CanSeo.png",alt:"CanSeo"},null,-1))),c=i((()=>(0,s._)("img",{class:"icon",src:"https://canseo-vue.vercel.app/uploads/imagen-hamburguesa.png",alt:"Menú Hamburguesa"},null,-1))),u=[c],d=i((()=>(0,s._)("img",{class:"icon",src:"https://canseo-vue.vercel.app/uploads/imagen-cerrar.png",alt:"Cerrar Menú"},null,-1))),m=[d],p={class:"navbar-nav mr-auto"},g={class:"nav-item"},v={class:"nav-item"},h={class:"nav-item"},f={class:"navbar-nav"},_={class:"nav-item"},b={key:1,class:"navbar navbar-expand navbar-light"},Z=i((()=>(0,s._)("img",{src:"https://canseo-vue.vercel.app/uploads/CanSeo.png",alt:"CanSeo"},null,-1))),w={class:"navbar-nav mr-auto mtop-10"},M={class:"nav-item"},k={class:"nav-item"},C={class:"nav-item"},D={class:"navbar-nav mtop-10"},A={class:"nav-item"};function W(e,a,t,i,c,d){const W=(0,s.up)("router-link");return(0,s.wg)(),(0,s.iD)("div",null,[c.isMobile?((0,s.wg)(),(0,s.iD)("div",o,[(0,s._)("div",l,[(0,s.Wm)(W,{to:"/",class:"navbar-brand img-canseo-mobile"},{default:(0,s.w5)((()=>[r])),_:1}),(0,s._)("div",{onClick:a[0]||(a[0]=(...e)=>d.toggleMobileMenu&&d.toggleMobileMenu(...e)),class:"menu-button"},u)]),(0,s._)("div",{class:(0,n.C_)({"mobile-menu":!0,open:c.isMobileMenuOpen})},[(0,s._)("div",{onClick:a[1]||(a[1]=(...e)=>d.toggleMobileMenu&&d.toggleMobileMenu(...e)),class:"close-button"},m),(0,s._)("div",p,[(0,s._)("li",g,[(0,s.Wm)(W,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Reservar")])),_:1})]),(0,s._)("li",v,[(0,s.Wm)(W,{to:"/reservas-cliente",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Reservas")])),_:1})]),(0,s._)("li",h,[(0,s.Wm)(W,{to:"/perfil/cliente",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Perfil")])),_:1})])]),(0,s._)("div",f,[(0,s._)("li",_,[(0,s._)("a",{class:"nav-link",onClick:a[2]||(a[2]=(...e)=>d.logout&&d.logout(...e))},"Cerrar sesión")])])],2)])):((0,s.wg)(),(0,s.iD)("nav",b,[(0,s.Wm)(W,{to:"/",class:"navbar-brand"},{default:(0,s.w5)((()=>[Z])),_:1}),(0,s._)("div",w,[(0,s._)("li",M,[(0,s.Wm)(W,{to:"/",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Reservar")])),_:1})]),(0,s._)("li",k,[(0,s.Wm)(W,{to:"/reservas-cliente",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Reservas")])),_:1})]),(0,s._)("li",C,[(0,s.Wm)(W,{to:"/perfil/cliente",class:"nav-link"},{default:(0,s.w5)((()=>[(0,s.Uk)("Perfil")])),_:1})])]),(0,s._)("div",D,[(0,s._)("li",A,[(0,s._)("a",{class:"nav-link",onClick:a[3]||(a[3]=(...e)=>d.logout&&d.logout(...e))},"Cerrar sesión")])])]))])}t(7658);var z=t(7239),H={name:"NavCliente",data(){return{isMobileMenuOpen:!1,isMobile:window.innerWidth<=768}},created(){window.addEventListener("resize",this.handleResize)},unmounted(){window.removeEventListener("resize",this.handleResize)},methods:{logout(){z.Z.dispatch("logout"),z.Z.commit("setNotification","success"),z.Z.commit("setMessage","Sesión cerrada correctamente"),this.$router.push("/login/clientes"),setTimeout((()=>{z.Z.commit("setNotification",null),z.Z.commit("setMessage",null)}),1e4)},handleResize(){this.isMobile=window.innerWidth<=768},toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}}},S=t(3744);const $=(0,S.Z)(H,[["render",W],["__scopeId","data-v-2293848b"]]);var Y=$}}]);
//# sourceMappingURL=680.e92ab86b.js.map