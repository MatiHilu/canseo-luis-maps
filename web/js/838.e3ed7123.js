"use strict";(self["webpackChunkcanseo"]=self["webpackChunkcanseo"]||[]).push([[838],{7209:function(e,a,s){var r=s(9669),t=s.n(r);const n=t().create({baseURL:"https://canseo.site/api/api",headers:{"Content-type":"application/json"}});n.interceptors.request.use((e=>{const a=localStorage.getItem("Authorization");return a&&(e.headers.common["Authorization"]=`${a}`),e}),(e=>Promise.reject(e))),a.Z=n},1677:function(e,a,s){var r=s(7209),t=s(9560);const n={getAll(){return t.Z.setAuthHeader(),r.Z.get("/paseadores")},getByBarrio(e,a,s,n){return t.Z.setAuthHeader(),r.Z.get(`/paseadores/by-barrio/${e}?diaSemana=${a}&fecha=${s}&hora=${n}`,{params:{dia_semana:a}})},login(e){return t.Z.setAuthHeader(),r.Z.post("/paseadores/login",e)},get(e){return t.Z.setAuthHeader(),r.Z.get(`/paseadores/${e}`)},create(e){return t.Z.setAuthHeader(),r.Z.post("/paseadores/register",e)},update(e,a){return t.Z.setAuthHeader(),r.Z.put(`/paseadores/${e}`,a)},changePassword(e,a){return t.Z.setAuthHeader(),r.Z.put(`/paseadores/${e}/change-password`,a)},delete(e){return t.Z.setAuthHeader(),r.Z.delete(`/paseadores/${e}`)},deleteAll(){return t.Z.setAuthHeader(),r.Z.delete("/paseadores")}};a.Z=n},3336:function(e,a,s){var r=s(7209);const t={getAll(){return r.Z.get("/reservas")},get(e){return r.Z.get(`/reservas/${e}`)},create(e){return r.Z.post("/reservas",e)},update(e,a){return r.Z.put(`/reservas/${e}`,a)},delete(e){return r.Z.delete(`/reservas/${e}`)},deleteAll(){return r.Z.delete("/reservas")},getReservasByUserId(e){return r.Z.get(`/reservas/user/${e}`)},getReservasByPaseadorId(e){return r.Z.get(`/reservas/paseador/${e}`)},getReservasFiltradas(e,a){return r.Z.get(`/reservas/filtered/${e}?fecha=${a.fecha}&hora=${a.hora}&estado=${a.estado}`)},getReservasFiltradasPaseador(e,a){return r.Z.get(`/reservas/filteredPaseador/${e}?fecha=${a.fecha}&hora=${a.hora}&estado=${a.estado}`)},updateEstado(e,a){return r.Z.patch(`/reservas/${e}/estado`,{estado:a})}};a.Z=t},1838:function(e,a,s){s.r(a),s.d(a,{default:function(){return M}});var r=s(6252),t=s(3577);const n=e=>((0,r.dD)("data-v-0abded2d"),e=e(),(0,r.Cn)(),e),o={class:"general"},l=n((()=>(0,r._)("h1",null,"Detalles de paseador",-1))),i={key:0,class:"contenedor"},d=["src","alt"],c=n((()=>(0,r._)("strong",null,"Descripción:",-1))),u={key:1},v=n((()=>(0,r._)("p",null,"Cargando datos del paseador...",-1))),p=[v];function g(e,a,s,n,v,g){const m=(0,r.up)("NavCliente");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(m),(0,r._)("div",o,[l,v.paseador?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("img",{class:"img-perfil",src:g.getImageUrl(v.paseador.foto_perfil||"/uploads/default-profile.png"),alt:v.paseador.nombre+" "+v.paseador.apellido},null,8,d),(0,r._)("p",null,(0,t.zw)(v.paseador.nombre)+" "+(0,t.zw)(v.paseador.apellido),1),(0,r._)("p",null,[c,(0,r.Uk)(" "+(0,t.zw)(v.paseador.descripcion),1)]),(0,r._)("button",{class:"reservar-paseador",onClick:a[0]||(a[0]=(...e)=>g.reservarPaseador&&g.reservarPaseador(...e))},"Reservar")])):((0,r.wg)(),(0,r.iD)("div",u,p))])],64)}s(7658);var m=s(1677),h=s(3336),Z=s(1012),_=s(7239),b=s(381),f=s.n(b),w={name:"PaseadorIndividual",components:{NavCliente:Z.Z},data(){return{paseador:null}},mounted(){this.fetchPaseador()},methods:{fetchPaseador(){const e=this.$route.params.id;m.Z.get(e).then((e=>{this.paseador=e.data})).catch((e=>{console.log(e)}))},reservarPaseador(){const e={id_paseador:this.$route.params.id,id_cliente:_.Z.getters.getClientId,fecha:f()(_.Z.getters.getSelectedDate).format("YYYY/MM/DD"),hora:_.Z.getters.getSelectedTime};h.Z.create(e).then((e=>{console.log(e.data),this.$router.push("/reservas-cliente"),_.Z.commit("setNotification","success"),_.Z.commit("setMessage","Paseo reservado!")})).catch((e=>{console.log("Error al crear la reserva: ",e),this.error="Error al crear la reserva."+e}))},getImageUrl(e){if(e){const a=e.replace("vue","").replace("public",""),s=window.location.origin;return`${s}/${a}`}}}},k=s(3744);const $=(0,k.Z)(w,[["render",g],["__scopeId","data-v-0abded2d"]]);var M=$},1012:function(e,a,s){s.d(a,{Z:function(){return W}});var r=s(6252),t=s(3577);const n=e=>((0,r.dD)("data-v-2293848b"),e=e(),(0,r.Cn)(),e),o={key:0},l={class:"menu-mobile-box"},i=n((()=>(0,r._)("img",{src:"https://canseo-vue.vercel.app/uploads/CanSeo.png",alt:"CanSeo"},null,-1))),d=n((()=>(0,r._)("img",{class:"icon",src:"https://canseo-vue.vercel.app/uploads/imagen-hamburguesa.png",alt:"Menú Hamburguesa"},null,-1))),c=[d],u=n((()=>(0,r._)("img",{class:"icon",src:"https://canseo-vue.vercel.app/uploads/imagen-cerrar.png",alt:"Cerrar Menú"},null,-1))),v=[u],p={class:"navbar-nav mr-auto"},g={class:"nav-item"},m={class:"nav-item"},h={class:"nav-item"},Z={class:"navbar-nav"},_={class:"nav-item"},b={key:1,class:"navbar navbar-expand navbar-light"},f=n((()=>(0,r._)("img",{src:"https://canseo-vue.vercel.app/uploads/CanSeo.png",alt:"CanSeo"},null,-1))),w={class:"navbar-nav mr-auto mtop-10"},k={class:"nav-item"},$={class:"nav-item"},M={class:"nav-item"},C={class:"navbar-nav mtop-10"},A={class:"nav-item"};function P(e,a,s,n,d,u){const P=(0,r.up)("router-link");return(0,r.wg)(),(0,r.iD)("div",null,[d.isMobile?((0,r.wg)(),(0,r.iD)("div",o,[(0,r._)("div",l,[(0,r.Wm)(P,{to:"/",class:"navbar-brand img-canseo-mobile"},{default:(0,r.w5)((()=>[i])),_:1}),(0,r._)("div",{onClick:a[0]||(a[0]=(...e)=>u.toggleMobileMenu&&u.toggleMobileMenu(...e)),class:"menu-button"},c)]),(0,r._)("div",{class:(0,t.C_)({"mobile-menu":!0,open:d.isMobileMenuOpen})},[(0,r._)("div",{onClick:a[1]||(a[1]=(...e)=>u.toggleMobileMenu&&u.toggleMobileMenu(...e)),class:"close-button"},v),(0,r._)("div",p,[(0,r._)("li",g,[(0,r.Wm)(P,{to:"/",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Reservar")])),_:1})]),(0,r._)("li",m,[(0,r.Wm)(P,{to:"/reservas-cliente",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Reservas")])),_:1})]),(0,r._)("li",h,[(0,r.Wm)(P,{to:"/perfil/cliente",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Perfil")])),_:1})])]),(0,r._)("div",Z,[(0,r._)("li",_,[(0,r._)("a",{class:"nav-link",onClick:a[2]||(a[2]=(...e)=>u.logout&&u.logout(...e))},"Cerrar sesión")])])],2)])):((0,r.wg)(),(0,r.iD)("nav",b,[(0,r.Wm)(P,{to:"/",class:"navbar-brand"},{default:(0,r.w5)((()=>[f])),_:1}),(0,r._)("div",w,[(0,r._)("li",k,[(0,r.Wm)(P,{to:"/",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Reservar")])),_:1})]),(0,r._)("li",$,[(0,r.Wm)(P,{to:"/reservas-cliente",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Reservas")])),_:1})]),(0,r._)("li",M,[(0,r.Wm)(P,{to:"/perfil/cliente",class:"nav-link"},{default:(0,r.w5)((()=>[(0,r.Uk)("Perfil")])),_:1})])]),(0,r._)("div",C,[(0,r._)("li",A,[(0,r._)("a",{class:"nav-link",onClick:a[3]||(a[3]=(...e)=>u.logout&&u.logout(...e))},"Cerrar sesión")])])]))])}s(7658);var D=s(7239),R={name:"NavCliente",data(){return{isMobileMenuOpen:!1,isMobile:window.innerWidth<=768}},created(){window.addEventListener("resize",this.handleResize)},unmounted(){window.removeEventListener("resize",this.handleResize)},methods:{logout(){D.Z.dispatch("logout"),D.Z.commit("setNotification","success"),D.Z.commit("setMessage","Sesión cerrada correctamente"),this.$router.push("/login/clientes"),setTimeout((()=>{D.Z.commit("setNotification",null),D.Z.commit("setMessage",null)}),1e4)},handleResize(){this.isMobile=window.innerWidth<=768},toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen}}},H=s(3744);const U=(0,H.Z)(R,[["render",P],["__scopeId","data-v-2293848b"]]);var W=U}}]);
//# sourceMappingURL=838.e3ed7123.js.map