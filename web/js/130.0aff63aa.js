"use strict";(self["webpackChunkcanseo"]=self["webpackChunkcanseo"]||[]).push([[130],{7209:function(e,s,o){var a=o(9669),i=o.n(a);const r=i().create({baseURL:"https://canseo.site/api/api",headers:{"Content-type":"application/json"}});r.interceptors.request.use((e=>{const s=localStorage.getItem("Authorization");return s&&(e.headers.common["Authorization"]=`${s}`),e}),(e=>Promise.reject(e))),s.Z=r},2498:function(e,s,o){var a=o(7209);const i={getAll(){return a.Z.get("/barrios")},get(e){return a.Z.get(`/barrios/${e}`)}};s.Z=i},1677:function(e,s,o){var a=o(7209),i=o(9560);const r={getAll(){return i.Z.setAuthHeader(),a.Z.get("/paseadores")},getByBarrio(e,s,o,r){return i.Z.setAuthHeader(),a.Z.get(`/paseadores/by-barrio/${e}?diaSemana=${s}&fecha=${o}&hora=${r}`,{params:{dia_semana:s}})},login(e){return i.Z.setAuthHeader(),a.Z.post("/paseadores/login",e)},get(e){return i.Z.setAuthHeader(),a.Z.get(`/paseadores/${e}`)},create(e){return i.Z.setAuthHeader(),a.Z.post("/paseadores/register",e)},update(e,s){return i.Z.setAuthHeader(),a.Z.put(`/paseadores/${e}`,s)},changePassword(e,s){return i.Z.setAuthHeader(),a.Z.put(`/paseadores/${e}/change-password`,s)},delete(e){return i.Z.setAuthHeader(),a.Z.delete(`/paseadores/${e}`)},deleteAll(){return i.Z.setAuthHeader(),a.Z.delete("/paseadores")}};s.Z=r},1583:function(e,s,o){o.r(s),o.d(s,{default:function(){return R}});var a=o(6252),i=o(3577),r=o(9963);const t=e=>((0,a.dD)("data-v-62937464"),e=e(),(0,a.Cn)(),e),l={class:"general"},n={class:"registro"},d=t((()=>(0,a._)("h1",null,"Registro paseador",-1))),c=t((()=>(0,a._)("img",{class:"canseo-img",src:"https://canseo-vue.vercel.app/uploads/Canseo-registro.png",alt:"CanSeo"},null,-1))),p={class:"form-group"},u={class:"form-group"},g={class:"form-group"},h={class:"form-group"},m={class:"form-group"},f={class:"form-group"},w={class:"form-group"},_={class:"password-input"},b=["type"],v={key:0,src:"https://canseo-vue.vercel.app/uploads/show-password.png",alt:"Mostrar contraseña"},Z={key:1,src:"https://canseo-vue.vercel.app/uploads/hide-password.png",alt:"Ocultar contraseña"},y={class:"form-group"},D=t((()=>(0,a._)("option",{value:""},"Seleccioná tu barrio",-1))),k=["value"],A={class:"form-group"},U=t((()=>(0,a._)("label",{for:"dias_disponibles"},[(0,a.Uk)("Días disponibles"),(0,a._)("span",null,[(0,a.Uk)(" ("),(0,a._)("span",{class:"circulo-verde"}),(0,a.Uk)(" Días Seleccionados)")])],-1))),C={class:""},P={class:"selected-items"},V=["onClick"],$={class:"form-group"},H=t((()=>(0,a._)("label",{for:"foto_perfil"},"Foto de perfil",-1))),q=t((()=>(0,a._)("button",{type:"submit"},"Registrarme",-1))),M=t((()=>(0,a._)("span",{class:"boton-registro"},"Iniciar sesión",-1)));function S(e,s,o,t,S,x){const B=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)("div",l,[x.notification?((0,a.wg)(),(0,a.iD)("div",{key:0,class:(0,i.C_)(["notification",x.notificationClass])},(0,i.zw)(x.message),3)):(0,a.kq)("",!0),(0,a._)("div",n,[d,c,(0,a._)("form",{onSubmit:s[10]||(s[10]=(0,r.iM)(((...e)=>x.agregarPaseador&&x.agregarPaseador(...e)),["prevent"]))},[(0,a._)("div",p,[(0,a.wy)((0,a._)("input",{type:"text",id:"nombre","onUpdate:modelValue":s[0]||(s[0]=e=>S.nombre=e),required:"",placeholder:"Nombre"},null,512),[[r.nr,S.nombre]])]),(0,a._)("div",u,[(0,a.wy)((0,a._)("input",{type:"text",id:"apellido","onUpdate:modelValue":s[1]||(s[1]=e=>S.apellido=e),required:"",placeholder:"Apellido"},null,512),[[r.nr,S.apellido]])]),(0,a._)("div",g,[(0,a.wy)((0,a._)("input",{type:"email",id:"email","onUpdate:modelValue":s[2]||(s[2]=e=>S.email=e),required:"",placeholder:"Email"},null,512),[[r.nr,S.email]])]),(0,a._)("div",h,[(0,a.wy)((0,a._)("input",{type:"text",id:"telefono","onUpdate:modelValue":s[3]||(s[3]=e=>S.telefono=e),required:"",placeholder:"Teléfono"},null,512),[[r.nr,S.telefono]])]),(0,a._)("div",m,[(0,a.wy)((0,a._)("input",{type:"text",id:"direccion","onUpdate:modelValue":s[4]||(s[4]=e=>S.direccion=e),required:"",placeholder:"Dirección"},null,512),[[r.nr,S.direccion]])]),(0,a._)("div",f,[(0,a.wy)((0,a._)("textarea",{id:"descripcion",rows:"1","onUpdate:modelValue":s[5]||(s[5]=e=>S.descripcion=e),required:"",placeholder:"Descripción"},null,512),[[r.nr,S.descripcion]])]),(0,a._)("div",w,[(0,a._)("div",_,[(0,a.wy)((0,a._)("input",{id:"password","onUpdate:modelValue":s[6]||(s[6]=e=>S.password=e),type:x.passwordFieldType,required:"",placeholder:"Contraseña"},null,8,b),[[r.YZ,S.password]]),(0,a._)("span",{type:"button",onClick:s[7]||(s[7]=(...e)=>x.togglePasswordVisibility&&x.togglePasswordVisibility(...e))},[S.showPassword?((0,a.wg)(),(0,a.iD)("img",v)):((0,a.wg)(),(0,a.iD)("img",Z))])])]),(0,a._)("div",y,[(0,a.wy)((0,a._)("select",{id:"id_barrio","onUpdate:modelValue":s[8]||(s[8]=e=>S.idBarrio=e),required:"",class:"select-barrio"},[D,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.barrios,(e=>((0,a.wg)(),(0,a.iD)("option",{key:e.id,value:e.id},(0,i.zw)(e.nombre),9,k)))),128))],512),[[r.bM,S.idBarrio]])]),(0,a._)("div",A,[U,(0,a._)("div",C,[(0,a._)("div",P,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(S.diasDisponibles,((e,s)=>((0,a.wg)(),(0,a.iD)("div",{key:s,class:(0,i.C_)(["selected-item",{active:S.selectedDias.includes(e)}]),onClick:s=>x.toggleDiaSeleccionado(e)},(0,i.zw)("domingo"===e?"Domingo":"lunes"===e?"Lunes":"martes"===e?"Martes":"miercoles"===e?"Miércoles":"jueves"===e?"Jueves":"viernes"===e?"Viernes":"sabado"===e?"Sábado":e),11,V)))),128))])])]),(0,a._)("div",$,[H,(0,a._)("input",{type:"file",id:"foto_perfil",onChange:s[9]||(s[9]=(...e)=>x.handleFileUpload&&x.handleFileUpload(...e))},null,32)]),q],32),(0,a._)("span",null,[(0,a.Wm)(B,{to:"/login/paseadores",class:"nav-link"},{default:(0,a.w5)((()=>[(0,a.Uk)("¿Ya tenés una cuenta? "),M])),_:1})])])])}o(7658);var x=o(1677),B=o(2498),F=o(7239),z={name:"AddPaseador",data(){return{nombre:"",apellido:"",email:"",telefono:"",direccion:"",descripcion:"",password:"",idBarrio:"",foto_perfil:"",diasDisponibles:["domingo","lunes","martes","miercoles","jueves","viernes","sabado"],selectedDias:[],barrios:[],showPassword:!1}},computed:{notification(){return F.Z.getters.getNotification},message(){return F.Z.getters.getMessage},notificationClass(){return{error:"error"===this.notification,success:"success"===this.notification}},passwordFieldType(){return this.showPassword?"text":"password"}},mounted(){this.fetchBarrios(),this.selectedDias=[...this.diasDisponibles]},methods:{handleFileUpload(e){this.foto_perfil=e.target.files[0]},fetchBarrios(){B.Z.getAll().then((e=>{this.barrios=e.data})).catch((e=>{console.log(e)}))},agregarPaseador(){const e=new FormData;if(e.append("nombre",this.nombre),e.append("apellido",this.apellido),e.append("email",this.email),e.append("telefono",this.telefono),e.append("direccion",this.direccion),e.append("descripcion",this.descripcion),e.append("password",this.password),e.append("foto_perfil",this.foto_perfil),e.append("id_barrio",this.idBarrio),1===this.selectedDias.length)e.append("dias_disponibles",[this.selectedDias[0]]);else for(const s of this.selectedDias)e.append("dias_disponibles",s);console.log("Datos enviados al backend:",e),x.Z.create(e).then((e=>{console.log("Paseador agregado exitosamente: ",e.data),this.$router.push("/login/paseadores"),F.Z.commit("setNotification","success"),F.Z.commit("setMessage","Registro exitoso")})).catch((e=>{console.log("Error al agregar el paseador: ",e),F.Z.commit("setNotification","error"),F.Z.commit("setMessage","Error al realizar el registro"),this.$router.push("/registro/paseador"),setTimeout((()=>{F.Z.commit("setNotification",null),F.Z.commit("setMessage",null)}),5e3)}))},togglePasswordVisibility(){this.showPassword=!this.showPassword},toggleDiaSeleccionado(e){this.selectedDias.includes(e)?this.selectedDias=this.selectedDias.filter((s=>s!==e)):this.selectedDias.push(e)}}},N=o(3744);const j=(0,N.Z)(z,[["render",S],["__scopeId","data-v-62937464"]]);var R=j}}]);
//# sourceMappingURL=130.0aff63aa.js.map